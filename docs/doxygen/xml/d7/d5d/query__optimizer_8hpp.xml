<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.13.2" xml:lang="en-US">
  <compounddef id="d7/d5d/query__optimizer_8hpp" kind="file" language="C++">
    <compoundname>query_optimizer.hpp</compoundname>
    <includes local="no">string</includes>
    <includes local="no">vector</includes>
    <includes local="no">unordered_map</includes>
    <includes local="no">memory</includes>
    <includes local="no">nlohmann/json.hpp</includes>
    <incdepgraph>
      <node id="1">
        <label>src/database/include/satox/database/query_optimizer.hpp</label>
        <link refid="d7/d5d/query__optimizer_8hpp"/>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
      </node>
      <node id="5">
        <label>memory</label>
      </node>
      <node id="6">
        <label>nlohmann/json.hpp</label>
      </node>
      <node id="2">
        <label>string</label>
      </node>
      <node id="4">
        <label>unordered_map</label>
      </node>
      <node id="3">
        <label>vector</label>
      </node>
    </incdepgraph>
    <innerclass refid="d5/d3e/classsatox_1_1database_1_1QueryOptimizer" prot="public">satox::database::QueryOptimizer</innerclass>
    <innerclass refid="de/db3/structsatox_1_1database_1_1QueryOptimizer_1_1QueryPlan" prot="public">satox::database::QueryOptimizer::QueryPlan</innerclass>
    <innerclass refid="d4/da3/structsatox_1_1database_1_1QueryOptimizer_1_1IndexInfo" prot="public">satox::database::QueryOptimizer::IndexInfo</innerclass>
    <innerclass refid="d2/d29/structsatox_1_1database_1_1QueryOptimizer_1_1TableStats" prot="public">satox::database::QueryOptimizer::TableStats</innerclass>
    <innernamespace refid="df/daa/namespacesatox">satox</innernamespace>
    <innernamespace refid="db/dfd/namespacesatox_1_1database">satox::database</innernamespace>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="normal"></highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight></codeline>
<codeline lineno="26"><highlight class="normal"></highlight><highlight class="preprocessor">#pragma<sp/>once</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="27"><highlight class="normal"></highlight></codeline>
<codeline lineno="28"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;string&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="29"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;vector&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="30"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;unordered_map&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="31"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;memory&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="32"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;nlohmann/json.hpp&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="33"><highlight class="normal"></highlight></codeline>
<codeline lineno="34"><highlight class="normal"></highlight><highlight class="keyword">namespace<sp/></highlight><highlight class="normal"><ref refid="df/daa/namespacesatox" kindref="compound">satox</ref><sp/>{</highlight></codeline>
<codeline lineno="35"><highlight class="normal"></highlight><highlight class="keyword">namespace<sp/></highlight><highlight class="normal"><ref refid="db/dfd/namespacesatox_1_1database" kindref="compound">database</ref><sp/>{</highlight></codeline>
<codeline lineno="36"><highlight class="normal"></highlight></codeline>
<codeline lineno="37" refid="d5/d3e/classsatox_1_1database_1_1QueryOptimizer" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="d5/d3e/classsatox_1_1database_1_1QueryOptimizer_1a98c373296d58a491a34bc28bd9246790" kindref="member">QueryOptimizer</ref><sp/>{</highlight></codeline>
<codeline lineno="38"><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="39" refid="de/db3/structsatox_1_1database_1_1QueryOptimizer_1_1QueryPlan" refkind="compound"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="de/db3/structsatox_1_1database_1_1QueryOptimizer_1_1QueryPlan" kindref="compound">QueryPlan</ref><sp/>{</highlight></codeline>
<codeline lineno="40" refid="de/db3/structsatox_1_1database_1_1QueryOptimizer_1_1QueryPlan_1a2733d580c48c84464c7431fd4a61ea18" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::string<sp/><ref refid="de/db3/structsatox_1_1database_1_1QueryOptimizer_1_1QueryPlan_1a2733d580c48c84464c7431fd4a61ea18" kindref="member">query</ref>;</highlight></codeline>
<codeline lineno="41" refid="de/db3/structsatox_1_1database_1_1QueryOptimizer_1_1QueryPlan_1a3bd30061305367a8052e0605d492880d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::vector&lt;std::string&gt;<sp/><ref refid="de/db3/structsatox_1_1database_1_1QueryOptimizer_1_1QueryPlan_1a3bd30061305367a8052e0605d492880d" kindref="member">usedIndexes</ref>;</highlight></codeline>
<codeline lineno="42" refid="de/db3/structsatox_1_1database_1_1QueryOptimizer_1_1QueryPlan_1ac51f6f11b5daf18fce1d4e4c176f390f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/><ref refid="de/db3/structsatox_1_1database_1_1QueryOptimizer_1_1QueryPlan_1ac51f6f11b5daf18fce1d4e4c176f390f" kindref="member">estimatedRows</ref>;</highlight></codeline>
<codeline lineno="43" refid="de/db3/structsatox_1_1database_1_1QueryOptimizer_1_1QueryPlan_1a7568eed5f7ca5fc297cdd32ce6029a3d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="de/db3/structsatox_1_1database_1_1QueryOptimizer_1_1QueryPlan_1a7568eed5f7ca5fc297cdd32ce6029a3d" kindref="member">estimatedCost</ref>;</highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/><sp/><sp/>};</highlight></codeline>
<codeline lineno="45"><highlight class="normal"></highlight></codeline>
<codeline lineno="46" refid="d4/da3/structsatox_1_1database_1_1QueryOptimizer_1_1IndexInfo" refkind="compound"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="d4/da3/structsatox_1_1database_1_1QueryOptimizer_1_1IndexInfo" kindref="compound">IndexInfo</ref><sp/>{</highlight></codeline>
<codeline lineno="47" refid="d4/da3/structsatox_1_1database_1_1QueryOptimizer_1_1IndexInfo_1a474aebdd59ff456e349334cf4d300db1" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::string<sp/><ref refid="d4/da3/structsatox_1_1database_1_1QueryOptimizer_1_1IndexInfo_1a474aebdd59ff456e349334cf4d300db1" kindref="member">name</ref>;</highlight></codeline>
<codeline lineno="48" refid="d4/da3/structsatox_1_1database_1_1QueryOptimizer_1_1IndexInfo_1a4fcdd8ef4616674e1087094617f35aa0" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::string<sp/><ref refid="d4/da3/structsatox_1_1database_1_1QueryOptimizer_1_1IndexInfo_1a4fcdd8ef4616674e1087094617f35aa0" kindref="member">table</ref>;</highlight></codeline>
<codeline lineno="49" refid="d4/da3/structsatox_1_1database_1_1QueryOptimizer_1_1IndexInfo_1ad590bbadd8b4b514e58c6d61d137c08e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::vector&lt;std::string&gt;<sp/><ref refid="d4/da3/structsatox_1_1database_1_1QueryOptimizer_1_1IndexInfo_1ad590bbadd8b4b514e58c6d61d137c08e" kindref="member">columns</ref>;</highlight></codeline>
<codeline lineno="50" refid="d4/da3/structsatox_1_1database_1_1QueryOptimizer_1_1IndexInfo_1a87101831743e4ec7c2d8459e3b5c28f6" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="d4/da3/structsatox_1_1database_1_1QueryOptimizer_1_1IndexInfo_1a87101831743e4ec7c2d8459e3b5c28f6" kindref="member">isUnique</ref>;</highlight></codeline>
<codeline lineno="51" refid="d4/da3/structsatox_1_1database_1_1QueryOptimizer_1_1IndexInfo_1a49153b3cbd30841facbf2f7875fbbcb2" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/><ref refid="d4/da3/structsatox_1_1database_1_1QueryOptimizer_1_1IndexInfo_1a49153b3cbd30841facbf2f7875fbbcb2" kindref="member">size</ref>;</highlight></codeline>
<codeline lineno="52" refid="d4/da3/structsatox_1_1database_1_1QueryOptimizer_1_1IndexInfo_1a4305b91cef8a3c27a4b1869bf1f09c29" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="d4/da3/structsatox_1_1database_1_1QueryOptimizer_1_1IndexInfo_1a4305b91cef8a3c27a4b1869bf1f09c29" kindref="member">selectivity</ref>;</highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/><sp/><sp/>};</highlight></codeline>
<codeline lineno="54"><highlight class="normal"></highlight></codeline>
<codeline lineno="55" refid="d2/d29/structsatox_1_1database_1_1QueryOptimizer_1_1TableStats" refkind="compound"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal"><ref refid="d2/d29/structsatox_1_1database_1_1QueryOptimizer_1_1TableStats" kindref="compound">TableStats</ref><sp/>{</highlight></codeline>
<codeline lineno="56" refid="d2/d29/structsatox_1_1database_1_1QueryOptimizer_1_1TableStats_1ad74eb8117e61392ac219c7a1df615fc3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/><ref refid="d2/d29/structsatox_1_1database_1_1QueryOptimizer_1_1TableStats_1ad74eb8117e61392ac219c7a1df615fc3" kindref="member">rowCount</ref>;</highlight></codeline>
<codeline lineno="57" refid="d2/d29/structsatox_1_1database_1_1QueryOptimizer_1_1TableStats_1a90ff4c37e11b0b233c438185ec1d67dc" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/><ref refid="d2/d29/structsatox_1_1database_1_1QueryOptimizer_1_1TableStats_1a90ff4c37e11b0b233c438185ec1d67dc" kindref="member">pageCount</ref>;</highlight></codeline>
<codeline lineno="58" refid="d2/d29/structsatox_1_1database_1_1QueryOptimizer_1_1TableStats_1aea0f8e82e83eecf3b61e17cd98046125" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="d2/d29/structsatox_1_1database_1_1QueryOptimizer_1_1TableStats_1aea0f8e82e83eecf3b61e17cd98046125" kindref="member">avgRowSize</ref>;</highlight></codeline>
<codeline lineno="59" refid="d2/d29/structsatox_1_1database_1_1QueryOptimizer_1_1TableStats_1a4b481da377538b469c7d4c6e205f1d19" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>std::unordered_map&lt;std::string,<sp/>double&gt;<sp/><ref refid="d2/d29/structsatox_1_1database_1_1QueryOptimizer_1_1TableStats_1a4b481da377538b469c7d4c6e205f1d19" kindref="member">columnSelectivity</ref>;</highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/>};</highlight></codeline>
<codeline lineno="61"><highlight class="normal"></highlight></codeline>
<codeline lineno="62" refid="d5/d3e/classsatox_1_1database_1_1QueryOptimizer_1a98c373296d58a491a34bc28bd9246790" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d5/d3e/classsatox_1_1database_1_1QueryOptimizer_1a98c373296d58a491a34bc28bd9246790" kindref="member">QueryOptimizer</ref>();</highlight></codeline>
<codeline lineno="63" refid="d5/d3e/classsatox_1_1database_1_1QueryOptimizer_1a90322a15d850297ef2eb70c3b9ce8593" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d5/d3e/classsatox_1_1database_1_1QueryOptimizer_1a90322a15d850297ef2eb70c3b9ce8593" kindref="member">~QueryOptimizer</ref>();</highlight></codeline>
<codeline lineno="64"><highlight class="normal"></highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Query<sp/>optimization</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="66" refid="d5/d3e/classsatox_1_1database_1_1QueryOptimizer_1a2e04d80c5c05b97abe4094f245b78bab" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="de/db3/structsatox_1_1database_1_1QueryOptimizer_1_1QueryPlan" kindref="compound">QueryPlan</ref><sp/><ref refid="d5/d3e/classsatox_1_1database_1_1QueryOptimizer_1a2e04d80c5c05b97abe4094f245b78bab" kindref="member">optimizeQuery</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string&amp;<sp/>query,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>nlohmann::json&amp;<sp/>params);</highlight></codeline>
<codeline lineno="67" refid="d5/d3e/classsatox_1_1database_1_1QueryOptimizer_1a124648546dcb38cc25189ed6b3f653ab" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="de/db3/structsatox_1_1database_1_1QueryOptimizer_1_1QueryPlan" kindref="compound">QueryPlan</ref><sp/><ref refid="d5/d3e/classsatox_1_1database_1_1QueryOptimizer_1a124648546dcb38cc25189ed6b3f653ab" kindref="member">optimizeSelect</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string&amp;<sp/>table,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>nlohmann::json&amp;<sp/>conditions);</highlight></codeline>
<codeline lineno="68" refid="d5/d3e/classsatox_1_1database_1_1QueryOptimizer_1a13e5ff063da68cbd7389ed1cc9e2978c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="de/db3/structsatox_1_1database_1_1QueryOptimizer_1_1QueryPlan" kindref="compound">QueryPlan</ref><sp/><ref refid="d5/d3e/classsatox_1_1database_1_1QueryOptimizer_1a13e5ff063da68cbd7389ed1cc9e2978c" kindref="member">optimizeJoin</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string&amp;<sp/>table1,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string&amp;<sp/>table2,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>nlohmann::json&amp;<sp/>joinConditions);</highlight></codeline>
<codeline lineno="69" refid="d5/d3e/classsatox_1_1database_1_1QueryOptimizer_1a0e2f4044f01470ac1e4950ad0e8b891c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="de/db3/structsatox_1_1database_1_1QueryOptimizer_1_1QueryPlan" kindref="compound">QueryPlan</ref><sp/><ref refid="d5/d3e/classsatox_1_1database_1_1QueryOptimizer_1a0e2f4044f01470ac1e4950ad0e8b891c" kindref="member">optimizeAggregate</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string&amp;<sp/>table,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::vector&lt;std::string&gt;&amp;<sp/>groupBy,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::vector&lt;std::string&gt;&amp;<sp/>aggregate);</highlight></codeline>
<codeline lineno="70"><highlight class="normal"></highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Index<sp/>management</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="72" refid="d5/d3e/classsatox_1_1database_1_1QueryOptimizer_1aa8e6d53f1f4d1863604d6429b2dc503e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="d5/d3e/classsatox_1_1database_1_1QueryOptimizer_1aa8e6d53f1f4d1863604d6429b2dc503e" kindref="member">addIndex</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="d4/da3/structsatox_1_1database_1_1QueryOptimizer_1_1IndexInfo" kindref="compound">IndexInfo</ref>&amp;<sp/>index);</highlight></codeline>
<codeline lineno="73" refid="d5/d3e/classsatox_1_1database_1_1QueryOptimizer_1a431cbec64cf3d1958e2f01a4b59d7d8c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="d5/d3e/classsatox_1_1database_1_1QueryOptimizer_1a431cbec64cf3d1958e2f01a4b59d7d8c" kindref="member">removeIndex</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string&amp;<sp/>indexName);</highlight></codeline>
<codeline lineno="74" refid="d5/d3e/classsatox_1_1database_1_1QueryOptimizer_1a23df0659fa9ac27b71207a00380b129b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>std::vector&lt;IndexInfo&gt;<sp/><ref refid="d5/d3e/classsatox_1_1database_1_1QueryOptimizer_1a23df0659fa9ac27b71207a00380b129b" kindref="member">getIndexes</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string&amp;<sp/>table)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="75" refid="d5/d3e/classsatox_1_1database_1_1QueryOptimizer_1a430f881e2485b5ae699318a4f79bfd0b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="d5/d3e/classsatox_1_1database_1_1QueryOptimizer_1a430f881e2485b5ae699318a4f79bfd0b" kindref="member">hasIndex</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string&amp;<sp/>table,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::vector&lt;std::string&gt;&amp;<sp/>columns)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="76"><highlight class="normal"></highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Statistics<sp/>management</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="78" refid="d5/d3e/classsatox_1_1database_1_1QueryOptimizer_1a271c92b9f9e0209b3b79171484be5f6c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="d5/d3e/classsatox_1_1database_1_1QueryOptimizer_1a271c92b9f9e0209b3b79171484be5f6c" kindref="member">updateTableStats</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string&amp;<sp/>table,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="d2/d29/structsatox_1_1database_1_1QueryOptimizer_1_1TableStats" kindref="compound">TableStats</ref>&amp;<sp/>stats);</highlight></codeline>
<codeline lineno="79" refid="d5/d3e/classsatox_1_1database_1_1QueryOptimizer_1a3c43ca01e6287f7445ea78cb7dff5f8d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="d2/d29/structsatox_1_1database_1_1QueryOptimizer_1_1TableStats" kindref="compound">TableStats</ref><sp/><ref refid="d5/d3e/classsatox_1_1database_1_1QueryOptimizer_1a3c43ca01e6287f7445ea78cb7dff5f8d" kindref="member">getTableStats</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string&amp;<sp/>table)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="80" refid="d5/d3e/classsatox_1_1database_1_1QueryOptimizer_1a7630ba958cd37574f2d09f754992b834" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="d5/d3e/classsatox_1_1database_1_1QueryOptimizer_1a7630ba958cd37574f2d09f754992b834" kindref="member">updateColumnStats</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string&amp;<sp/>table,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string&amp;<sp/>column,<sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>selectivity);</highlight></codeline>
<codeline lineno="81"><highlight class="normal"></highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Cost<sp/>estimation</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="83" refid="d5/d3e/classsatox_1_1database_1_1QueryOptimizer_1ac3b0885d7b769928d1a4b95edcfe45e3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="d5/d3e/classsatox_1_1database_1_1QueryOptimizer_1ac3b0885d7b769928d1a4b95edcfe45e3" kindref="member">estimateQueryCost</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="de/db3/structsatox_1_1database_1_1QueryOptimizer_1_1QueryPlan" kindref="compound">QueryPlan</ref>&amp;<sp/>plan)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="84" refid="d5/d3e/classsatox_1_1database_1_1QueryOptimizer_1a11c2d65254299da6208735299b578b1f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="d5/d3e/classsatox_1_1database_1_1QueryOptimizer_1a11c2d65254299da6208735299b578b1f" kindref="member">estimateJoinCost</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string&amp;<sp/>table1,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string&amp;<sp/>table2,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>nlohmann::json&amp;<sp/>conditions)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="85" refid="d5/d3e/classsatox_1_1database_1_1QueryOptimizer_1aaf4cc748d9535216ad4675f03d58b1e7" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/><ref refid="d5/d3e/classsatox_1_1database_1_1QueryOptimizer_1aaf4cc748d9535216ad4675f03d58b1e7" kindref="member">estimateScanCost</ref>(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string&amp;<sp/>table,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>nlohmann::json&amp;<sp/>conditions)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="86"><highlight class="normal"></highlight></codeline>
<codeline lineno="87"><highlight class="normal"></highlight><highlight class="keyword">private</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Helper<sp/>methods</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/>std::vector&lt;IndexInfo&gt;<sp/>findApplicableIndexes(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string&amp;<sp/>table,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>nlohmann::json&amp;<sp/>conditions)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>calculateSelectivity(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>nlohmann::json&amp;<sp/>conditions)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/>std::string<sp/>buildIndexScanQuery(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string&amp;<sp/>table,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="d4/da3/structsatox_1_1database_1_1QueryOptimizer_1_1IndexInfo" kindref="compound">IndexInfo</ref>&amp;<sp/>index,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>nlohmann::json&amp;<sp/>conditions)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/>std::string<sp/>buildTableScanQuery(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string&amp;<sp/>table,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>nlohmann::json&amp;<sp/>conditions)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/>std::string<sp/>buildJoinQuery(</highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string&amp;<sp/>table1,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>std::string&amp;<sp/>table2,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>nlohmann::json&amp;<sp/>conditions)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="94"><highlight class="normal"></highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Member<sp/>variables</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/>std::unordered_map&lt;std::string,<sp/>std::vector&lt;IndexInfo&gt;&gt;<sp/>tableIndexes_;</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/>std::unordered_map&lt;std::string,<sp/>TableStats&gt;<sp/>tableStats_;</highlight></codeline>
<codeline lineno="98"><highlight class="normal">};</highlight></codeline>
<codeline lineno="99"><highlight class="normal"></highlight></codeline>
<codeline lineno="100"><highlight class="normal">}<sp/></highlight><highlight class="comment">//<sp/>namespace<sp/>database</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="101"><highlight class="normal">}<sp/></highlight><highlight class="comment">//<sp/>namespace<sp/>satox<sp/></highlight><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="src/database/include/satox/database/query_optimizer.hpp"/>
  </compounddef>
</doxygen>
